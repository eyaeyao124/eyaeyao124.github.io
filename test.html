<img style="position:fixed;top:10px;left:10px;width:100px" id="target-img" />

<script type="module">
(() => {
// let response = await fetch('https://mousse.kunpany.com/image/faq/165006307895300/-1');

// let blob = await response.blob(); // 응답을 Blob 객체 형태로 다운로드받습니다.

// // 다운로드받은 Blob을 담을 <img>를 만듭니다.
// let img = document.createElement('img');
// img.style = 'position:fixed;top:10px;left:10px;width:100px';
// document.body.append(img);

// // 이미지를 화면에 보여줍니다.
// img.src = URL.createObjectURL(blob);

// const response = await axios.get("IMAGE_URL", {
//   responseType:'blob',
//   headers: {
//     someToken: 'TOKEN'
//   }
// })

// await fetch("https://mousse.kunpany.com/image/faq/165006307895300/-1", {
// method: "POST",
// headers: {
//     'key': 'auth_platform',
//     'value': 'mousse'
// }
// })
// .then((response) => {
// const imageURL = window.URL.createObjectURL(response.data)
// document.getElementById("target-img").src = window.URL.createObjectURL(response.data);
// })
// .catch((error) => console.log("error:", error));

async function fetchImage(request) {
  try {
    const response = await fetch(request);
    if (!response.ok) {
      throw new Error("Network response was not OK");
    }
    const myBlob = await response.blob();
    document.getElementById("target-img").src = URL.createObjectURL(myBlob);
  } catch (error) {
    console.error("Error:", error);
  }
}

const myHeaders = new Headers();

myHeaders.append("key", "auth_platform");
myHeaders.append("value", "mousse");

const myRequest = new Request("https://mousse.kunpany.com/image/faq/165006307895300/-1", {
  method: "GET",
  headers: myHeaders,
  mode: "no-cors",
  cache: "default",
});

fetchImage(myRequest);

})();
</script>